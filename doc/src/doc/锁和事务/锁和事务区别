事物和锁的区别：事物是保证多个操作异常回滚，锁是保证所操作的数据的安全性
redis：
1，事物：get和incr，需要事物保证两个操作原子性
2，锁：get和incr中间可能被抢光了，库存需要保证锁定，1：watch类似乐观锁，2：redisson

mysql：
1，事务：需要事物保证两个操作原子性
2，锁：mysql乐观锁、悲观锁 、java锁

解决超卖本质还是需要锁。乐观锁：查不到；悲观锁：阻塞，然后查不到


